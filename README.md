# RiG++欠席連絡確認コマンド
欠席連絡チャンネルに流された欠席連絡から、欠席する活動日と学籍番号を抽出します。

Slackのuser-tokenと欠席連絡チャンネルのchannel IDが必要です。
欠席連絡チャンネルのchannel IDは `CD78CK2Q5` です。
user-tokenの代わりに [ここ](https://api.slack.com/custom-integrations/legacy-tokens) から取得したlegacy-tokenを使用しても同様に動きます。

# ビルド方法
`build/`以下に各環境向けにビルド済みバイナリが用意されてます。
どのバイナリも実行できない場合、セルフビルドする必要があります。
```
$ go build
```

# 実行方法
channel IDとAPIトークンは環境変数として指定する必要があります。
```
$ export CHANNEL_ID="CD78ck2q5"
$ export TOKEN="xoxp-********"
$ ./build/rigpp-absent-darwin-amd64
```
一度に指定して実行することもできます。
```
$ CHANNEL_ID="CD78CK2Q5" TOKEN="xoxp-********" ./build/rigpp-absent-darwin-amd64
```

# 出力
1行ごとに、活動日と曜日と学籍番号(ハイフン無し)が空白区切りで出力されます。
```
2018/10/12 Fri 26001700382
2018/10/12 Fri 26001802401
2018/10/12 Fri 26001702482
2018/10/09 Tue 26001801685
2018/10/09 Tue 26001802088
2018/10/09 Tue 26001801014
2018/10/09 Tue 26001604510
2018/10/09 Tue 26001704485
2018/10/09 Tue 26001802398
2018/10/09 Tue 26001701656
2018/10/05 Fri 26001800735
2018/10/05 Fri 26001602488
2018/10/05 Fri 26001801685
2018/10/05 Fri 26001604251
2018/10/05 Fri 26001802088
```
